{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap e95caa8da4599bbd08ed","webpack:///external {\"commonjs\":\"@angular/core\",\"commonjs2\":\"@angular/core\",\"amd\":\"@angular/core\",\"root\":\"@angular/core\"}","webpack:///./src/store.service.ts","webpack:///./src/store.ts","webpack:///external {\"commonjs\":\"@angular/common\",\"commonjs2\":\"@angular/common\",\"amd\":\"@angular/common\",\"root\":\"@angular/common\"}","webpack:///external {\"commonjs\":\"@angular/router\",\"commonjs2\":\"@angular/router\",\"amd\":\"@angular/router\",\"root\":\"@angular/router\"}","webpack:///./src/store.module.ts","webpack:///./index.js","webpack:///./src/provider.ts","webpack:///external {\"commonjs\":\"monad-ts\",\"commonjs2\":\"monad-ts\",\"amd\":\"monad-ts\",\"root\":\"monad-ts\"}"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;AChEA,+C;;;;;;;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,yBAAyB;AACxC,eAAe,iBAAiB;AAChC;AACA;AACA,2BAA2B,uBAAuB;AAClD;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB;AACA;AACA;AACA;AACA,qCAAqC,kCAAkC,EAAE;AACzE;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACO;AACR;;;;;;;;;;;;;;;;;ACnFA;AAAA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA,4CAA4C,OAAO;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACgC;AACX;AACF;AACI;AACP;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,eAAe,IAAI;AACnB;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA,sBAAsB;AACtB;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;AACA;AACA,kBAAkB;AAClB;AACA,qFAA2C;AAC3C;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACQ;AACR;;;;;;;AC9EA,+C;;;;;;ACAA,+C;;;;;;;;;;ACAA;AAAA;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACmB;AACI;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,IAAI;AACnB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,qFAAe;AACf;AACQ;AACR;AACA;;;;;;;;;;;;;;AChCA;AAAA;AACA;AACA;AACA;AACuB;AACvB;AACgB;AAChB;;;;;;;;;;;;;;;;;;ACPiB;AACQ;AACT;AACG;AACnB;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,IAAI;AACf,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA,WAAW,IAAI;AACf,YAAY,EAAE,0HAA0H,EAAE,uCAAuC;AACjL;AACA;AACA;AACA;AACA,SAAS,wOAAsF;AAC/F,SAAS,+CAA+C;AACxD;AACA;AACA;;;;;;;ACjCA,+C","file":"angust.umd.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"@angular/core\"), require(\"@angular/common\"), require(\"@angular/router\"), require(\"monad-ts\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"@angular/core\", \"@angular/common\", \"@angular/router\", \"monad-ts\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Angust\"] = factory(require(\"@angular/core\"), require(\"@angular/common\"), require(\"@angular/router\"), require(\"monad-ts\"));\n\telse\n\t\troot[\"Angust\"] = factory(root[\"@angular/core\"], root[\"@angular/common\"], root[\"@angular/router\"], root[\"monad-ts\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_4__, __WEBPACK_EXTERNAL_MODULE_8__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e95caa8da4599bbd08ed","module.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"@angular/core\",\"commonjs2\":\"@angular/core\",\"amd\":\"@angular/core\",\"root\":\"@angular/core\"}\n// module id = 0\n// module chunks = 0","/**\r\n * Class StoreService - base class for application state manipulations.\r\n */\r\nvar StoreService = (function () {\r\n    /**\r\n     * creates an instance of class StoreService.\r\n     * @param {Router} router - DI.\r\n     * @param {Location} location - DI.\r\n     */\r\n    function StoreService(router, location) {\r\n        this.router = router;\r\n        this.location = location;\r\n    }\r\n    /**\r\n     * navigates forward in the platform's history.\r\n     * @return {void}\r\n     */\r\n    StoreService.prototype.forward = function () {\r\n        this.location.forward();\r\n    };\r\n    /**\r\n     * navigates back in the platform's history.\r\n     * @return {void}\r\n     */\r\n    StoreService.prototype.back = function () {\r\n        this.location.back();\r\n    };\r\n    /**\r\n     * changes current URL state in app state and then navigate with specified URL.\r\n     * @param {any[] | string | UrlTree} commands - provided array of commands and a starting point or specified URL.\r\n     * @param {NavigationExtras} extras - represents the extra options used during navigation.\r\n     */\r\n    StoreService.prototype.navigateTo = function (commands, extras) {\r\n        this._updateState({ currentUrl: commands });\r\n        Array.isArray(commands)\r\n            ? this.router.navigate(this.state.get().currentUrl, extras).then(function (r) {\r\n                if (!r)\r\n                    console.error(new Error('StoreService.navigateTo()- navigation error'));\r\n            })\r\n            : this.router.navigateByUrl(this.state.get().currentUrl, extras).then(function (r) {\r\n                if (!r)\r\n                    console.error(new Error('StoreService.navigateTo()- navigation error'));\r\n            });\r\n    };\r\n    /**\r\n     * changes(optional) an app state and then it'll return the app state.\r\n     * @param {U} v - object with new values of variables of the app state.\r\n     * @return {T}\r\n     */\r\n    StoreService.prototype.manager = function (v) {\r\n        if (v) {\r\n            this._updateState(v);\r\n        }\r\n        return this.state.get();\r\n    };\r\n    /**\r\n     * changes an app state.\r\n     * @param {U} v - object with new values of variables of the app state.\r\n     * @private\r\n     */\r\n    StoreService.prototype._updateState = function (v) {\r\n        var _this = this;\r\n        this.state.put(function (c) { return _this._changeObject(v)(c); });\r\n    };\r\n    /**\r\n     * changes the values of the given object `c` with values of `v`.\r\n     * @param {U} v - object with new values of variables of the app state.\r\n     * @return {function(c:U)=>U}\r\n     * @private\r\n     */\r\n    StoreService.prototype._changeObject = function (v) {\r\n        return function (c) {\r\n            for (var k in v) {\r\n                if (v.hasOwnProperty(k)) {\r\n                    c[k] = v[k];\r\n                }\r\n            }\r\n            return c;\r\n        };\r\n    };\r\n    return StoreService;\r\n}());\r\nexport { StoreService };\r\n//Copyright (c) 2017 Alex Tranchenko. All rights reserved. \r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/store.service.ts\n// module id = 1\n// module chunks = 0","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { NavigationEnd, Router } from \"@angular/router\";\r\nimport { Injectable } from \"@angular/core\";\r\nimport { Location } from '@angular/common';\r\nimport { StoreService } from \"./store.service\";\r\nimport { State } from \"monad-ts\";\r\n/**\r\n * Class Store - Angular service that provides monad State to Angular app.\r\n */\r\nvar Store = (function (_super) {\r\n    __extends(Store, _super);\r\n    /**\r\n     * creates an instance of class Store.\r\n     * @param {Router} router - DI.\r\n     * @param {Location} location - DI.\r\n     * @param {any} INIT_STATE - initial state of Store.\r\n     */\r\n    function Store(router, location, INIT_STATE) {\r\n        var _this = _super.call(this, router, location) || this;\r\n        /**\r\n         * keep required element of Angular app state.\r\n         * @type {S}\r\n         * @private\r\n         */\r\n        _this._URL = { currentUrl: ['/'] };\r\n        /**\r\n         * Subscription for current Router URL, if URL changes then URL will change  in app state store.\r\n         * @type {Subscription}\r\n         */\r\n        _this.routerUrlSubscription$ = _this.router.events.subscribe(function (ev) {\r\n            if (ev instanceof NavigationEnd) {\r\n                _this.state.put(function (v) {\r\n                    v.currentUrl = [ev.url];\r\n                    return v;\r\n                });\r\n            }\r\n        });\r\n        /**\r\n         * Initialize store's state. Required - _URL, optional - INIT_STATE prop.\r\n         * @type {State}\r\n         */\r\n        _this.state = new State(__assign({}, _this._URL, INIT_STATE));\r\n        return _this;\r\n    }\r\n    return Store;\r\n}(StoreService));\r\nStore = __decorate([\r\n    Injectable(),\r\n    __metadata(\"design:paramtypes\", [Router,\r\n        Location, Object])\r\n], Store);\r\nexport { Store };\r\n//Copyright (c) 2017 Alex Tranchenko. All rights reserved. \r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/store.ts\n// module id = 2\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"@angular/common\",\"commonjs2\":\"@angular/common\",\"amd\":\"@angular/common\",\"root\":\"@angular/common\"}\n// module id = 3\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_4__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"@angular/router\",\"commonjs2\":\"@angular/router\",\"amd\":\"@angular/router\",\"root\":\"@angular/router\"}\n// module id = 4\n// module chunks = 0","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nimport { NgModule } from \"@angular/core\";\r\nimport { provideStore } from \"./provider\";\r\n/**\r\n *  Class StoreModule - the module provides and configure Store in Angular.\r\n */\r\nvar StoreModule = StoreModule_1 = (function () {\r\n    function StoreModule() {\r\n    }\r\n    /**\r\n     * configures the module's providers.\r\n     * @param {any} INIT_STATE - initial state of Store\r\n     * @return {ModuleWithProviders}\r\n     */\r\n    StoreModule.forRoot = function (INIT_STATE) {\r\n        return {\r\n            ngModule: StoreModule_1,\r\n            providers: provideStore(INIT_STATE)\r\n        };\r\n    };\r\n    return StoreModule;\r\n}());\r\nStoreModule = StoreModule_1 = __decorate([\r\n    NgModule({})\r\n], StoreModule);\r\nexport { StoreModule };\r\nvar StoreModule_1;\r\n//Copyright (c) 2017 Alex Tranchenko. All rights reserved. \r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/store.module.ts\n// module id = 5\n// module chunks = 0","/**\r\n * @description\r\n * Entry point for all public APIs of the Angust package.\r\n */\r\nexport { StoreService } from \"./src/store.service\";\r\nexport * from \"./src/store.module\";\r\nexport { Store } from \"./src/store\";\r\n//Copyright (c) 2017 Alex Tranchenko. All rights reserved. \r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./index.js\n// module id = 6\n// module chunks = 0","import { Router } from \"@angular/router\";\r\nimport { InjectionToken } from \"@angular/core\";\r\nimport { Store } from \"./store\";\r\nimport { Location } from '@angular/common';\r\n/**\r\n * factory function.\r\n * @param {Router} router - DI.\r\n * @param {Location} location - DI.\r\n * @param {any} init - initial state of Store.\r\n * @return {Store}\r\n * @private\r\n */\r\nexport function _storeFactory(router, location, init) {\r\n    return new Store(router, location, init);\r\n}\r\n/**\r\n * Creates a token that can be used in a DI Provider.\r\n * @type {InjectionToken}\r\n * @private\r\n */\r\nexport var _INITIAL_STATE = new InjectionToken('Token');\r\n/**\r\n * DI Provider function.\r\n * @param {any} initState - initial state of Store.\r\n * @return {[{provide: Store, useFactory: ((router:Router, location:Location, init:any)=>Store), deps: [Router,Location,InjectionToken]},{provide: InjectionToken, useValue: any}]}\r\n * @private\r\n */\r\nexport function provideStore(initState) {\r\n    return [\r\n        { provide: Store, useFactory: _storeFactory, deps: [Router, Location, _INITIAL_STATE] },\r\n        { provide: _INITIAL_STATE, useValue: initState },\r\n    ];\r\n}\r\n//Copyright (c) 2017 Alex Tranchenko. All rights reserved. \r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/provider.ts\n// module id = 7\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_8__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"monad-ts\",\"commonjs2\":\"monad-ts\",\"amd\":\"monad-ts\",\"root\":\"monad-ts\"}\n// module id = 8\n// module chunks = 0"],"sourceRoot":""}